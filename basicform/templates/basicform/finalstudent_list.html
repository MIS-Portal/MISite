{%load static%}
<style>
    .home {
    background-color: #FFFDD0;
    margin: 50px auto;
    padding: 110px 0;
    text-align: center;
    width: 90%;
    font-family: Raleway;
    align-items: center;
  }
  h3{
    color: blue;
  }
  table{
    width:50%;
  transform: translate(50%,0%);
}
 tr:nth-child(even){background-color: #f2f2f2;}

tr:hover {background-color: #ddd;}

 th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #7484e2;
  color: white;
}
button {
  background-color: #7272dc;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  font-size: 16px;
  margin:1%;
}
  </style>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
<script>
    function demoFromHTML() {
        var pdf = new jsPDF('p', 'pt', 'letter');
        // source can be HTML-formatted string, or a reference
        // to an actual DOM element from which the text will be scraped.
        source = $('#tablee')[0];

        // we support special element handlers. Register them with jQuery-style 
        // ID selector for either ID or node name. ("#iAmID", "div", "span" etc.)
        // There is no support for any other type of selectors 
        // (class, of compound) at this time.
        specialElementHandlers = {
            // element with id of "bypass" - jQuery style selector
            '#bypassme': function (element, renderer) {
                // true = "handled elsewhere, bypass text extraction"
                return true
            }
        };
        margins = {
            top: 80,
            bottom: 60,
            left: 40,
            width: 522
        };
        // all coords and widths are in jsPDF instance's declared units
        // 'inches' in this case
        pdf.fromHTML(
            source, // HTML string or DOM elem ref.
            margins.left, // x coord
            margins.top, { // y coord
                'width': margins.width, // max width of content on PDF
                'elementHandlers': specialElementHandlers
            },

            function (dispose) {
                // dispose: object with X, Y of the last line add to the PDF 
                //          this allow the insertion of new lines after html
                pdf.save('Test.pdf');
            }, margins
        );
    }
</script>
<div class="home">
<span id="tablee">
<h2>Students</h2>
        <table >
            <tr><th>Student name</th><th>Branch</th><th>Registration Number</th></tr>
        {% for student in object_list %}
            <tr>
                <td>{{student.first_name}} {{student.last_name}}</td>
                <td>{{student.branch}}</td>
                <td>{{student.reg_no}}</td>
            </tr>
        {% endfor %}
    </table>
</span>
<script>function downloadPDF() {
    var doc = new jsPDF('p', 'pt', 'a4');
  
    doc.html(document.querySelector('tablee'), {
      callback: function (doc) {
        doc.save('Students.pdf');
      },
      margin: [60, 60, 60, 60],
      x: 32,
      y: 32,
    });
  }
  </script>
  <button onclick="demoFromHTML()">Download PDF</button>
  <a href="{%url 'index' %}">Go to Home</a>
</div>